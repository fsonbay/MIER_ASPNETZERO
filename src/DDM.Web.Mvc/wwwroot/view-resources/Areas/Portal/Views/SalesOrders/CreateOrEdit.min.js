(function(){$(function(){function y(){var n=t(new Date);$("#SalesOrder_Date").val(n);$("#SalesOrder_Deadline").val(n)}function p(n,t,i,r){var u,f,e;for(n+="",u=n.indexOf(t),f="",u!==-1&&(f=i+n.substring(u+1,n.length),n=n.substring(0,u)),e=/(\d+)(\d{3})/;e.test(n);)n=n.replace(e,"$1"+r+"$2");return n+f}function t(n){var r=n.getFullYear(),i=(1+n.getMonth()).toString(),t;return i=i.length>1?i:"0"+i,t=n.getDate().toString(),t=t.length>1?t:"0"+t,t+"/"+i+"/"+r}function i(n){var t=n.split("/");return new Date(+t[2],t[1]-1,+t[0])}var w=abp.services.app.salesOrders,f=$("#CreateNewCustomerButton"),e=$("#1Button"),o=$("#2Button"),s=$("#3Button"),h=$("#4Button"),c=$("#5Button"),n=$("#SalesOrder_Deadline"),l=$(".currency-format"),a=$("#AddLineButton"),v=new app.ModalManager({viewUrl:abp.appPath+"Portal/Customers/CreateOrEditModal",scriptUrl:abp.appPath+"view-resources/Areas/Portal/Views/SalesOrders/_CreateCustomerModal.js",modalClass:"CreateCustomerModal"}),r,u;y();l.each(function(){var n=this.value.replace(/\./g,"");n=n.toString().replace(/\,/g,".");$(this).val(n)});$(".date-picker").datetimepicker({locale:abp.localization.currentLanguage.name,format:"DD/MM/YYYY"});r=function(){var r,n,t,i,u=function(){i=new KTWizard("kt_wizard",{startStep:1});i.on("beforeNext",function(n){t.form()!==!0&&n.stop()});i.on("beforePrev",function(n){t.form()!==!0&&n.stop()});i.on("change",function(){setTimeout(function(){KTUtil.scrollTop()},500)})},f=function(){t=n.validate({ignore:":hidden",rules:{CustomerId:{required:!0},Date:{required:!0},Deadline:{required:!0},package:{required:!0},weight:{required:!0},width:{required:!0},height:{required:!0},length:{required:!0},delivery:{required:!0},packaging:{required:!0},preferreddelivery:{required:!0},locaddress1:{required:!0},locpostcode:{required:!0},loccity:{required:!0},locstate:{required:!0},loccountry:{required:!0}},invalidHandler:function(){KTUtil.scrollTop()},submitHandler:function(){}})},e=function(){var i=n.find('[data-ktwizard-type="action-submit"]');i.on("click",function(r){r.preventDefault();t.form()&&(KTApp.progress(i),n.ajaxSubmit({success:function(){KTApp.unprogress(i)}}))})};return{init:function(){r=KTUtil.getById("kt_wizard");n=$("#SalesOrderInformationsForm");u();f();e()}}}();jQuery(document).ready(function(){r.init()});f.click(function(){v.open()});e.click(function(){var r=i(n.val());r.setDate(r.getDate()+1);n.val(t(r))});o.click(function(){var r=i(n.val());r.setDate(r.getDate()+2);n.val(t(r))});s.click(function(){var r=i(n.val());r.setDate(r.getDate()+3);n.val(t(r))});h.click(function(){var r=i(n.val());r.setDate(r.getDate()+4);n.val(t(r))});c.click(function(){var r=i(n.val());r.setDate(r.getDate()+5);n.val(t(r))});u=$(".subcat-sets");a.click(function(n){n.preventDefault();var t=$(".subcat-set:last-child").clone(!0);t.show();t.find(":input").each(function(){$(this).val("");$(this).hasClass("mark-for-delete")&&$(this).val("False");$(this).hasClass("ID")&&$(this).val("0")});u.append(t);$(".subcat-set:last-child :input:enabled:visible:first").focus()});$(".currency-format").keyup(function(n){n.which>=37&&n.which<=40&&n.preventDefault();$(this).val(function(n,t){return t=t.replace(/\./g,""),p(t,".",",",".")})})})})();
(function(){function t(n){var r=n.getFullYear(),i=(1+n.getMonth()).toString(),t;return i=i.length>1?i:"0"+i,t=n.getDate().toString(),t=t.length>1?t:"0"+t,t+"/"+i+"/"+r}function i(n){var t=n.split("/");return new Date(+t[2],t[1]-1,+t[0])}function e(){$(".line-set").each(function(){var n=$(this).index();$(":input",this).each(function(){this.name=this.name.replace(/[0-9]+/,n);this.id=this.id.replace(/[0-9]+/,n)})})}function r(){var n=$(".line-set").length;n===1?$(".line-set .delete-line").hide():$(".line-set .delete-line").show()}var b=$("form[name = SalesOrderForm]"),o=$(".date-picker"),s=$("#1Button"),h=$("#2Button"),c=$("#3Button"),l=$("#4Button"),a=$("#5Button"),n=$("#SalesOrder_Deadline"),v=$("#CreateNewCustomerButton"),y=$("#AddLineButton"),p=$(".delete-line"),w=$(".line-sets"),k=$(".line-set"),u,f;r();u=new app.ModalManager({viewUrl:abp.appPath+"Portal/Customers/CreateOrEditModal",scriptUrl:abp.appPath+"view-resources/Areas/Portal/Views/SalesOrders/_CreateCustomerModal.js",modalClass:"CreateCustomerModal"});v.click(function(n){n.preventDefault();u.open()});o.datetimepicker({locale:abp.localization.currentLanguage.name,format:"DD/MM/YYYY"});s.click(function(r){r.preventDefault();var u=i(n.val());u.setDate(u.getDate()+1);n.val(t(u))});h.click(function(r){r.preventDefault();var u=i(n.val());u.setDate(u.getDate()+2);n.val(t(u))});c.click(function(r){r.preventDefault();var u=i(n.val());u.setDate(u.getDate()+3);n.val(t(u))});l.click(function(r){r.preventDefault();var u=i(n.val());u.setDate(u.getDate()+4);n.val(t(u))});a.click(function(r){r.preventDefault();var u=i(n.val());u.setDate(u.getDate()+5);n.val(t(u))});f=w;y.click(function(n){alert(1);n.preventDefault();var t=$(".line-set:last").clone(!0);t.find(":input").each(function(){$(this).val("");$(this).hasClass("mark-for-delete")&&$(this).val("False");$(this).hasClass("line-id")&&$(this).val("0")});f.append(t);$(".line-set:last-child :input:enabled:visible:first").focus();e();r()});p.click(function(n){n.preventDefault();$(this).parents(".line-set").find(".mark-for-delete").val("true");var t=$(this).parents(".line-set").find(".line-id").val();t==="0"?$(this).parents(".line-set").remove():$(this).parents(".line-set").hide();e();r()})})();